<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <script>
        //Functions
        //playRound, compares playerSelection to computerSelection, returns result, and increments score by 1
    
        function playRound(playerSelection,computerSelection) {
            if (playerSelection == computerSelection) {
                return "tie"
            }
            else if (playerSelection == "rock" && computerSelection == "paper" ||
                playerSelection == "paper" && computerSelection == "scissors" ||
                playerSelection == "scissors" && computerSelection == "rock") {
                    return "lose"
                }
            else if (playerSelection == "rock" && computerSelection == "scissors" ||
                playerSelection == "paper" && computerSelection == "rock" ||
                playerSelection == "scissors" && computerSelection == "paper") {
                    return "win"
                }
        }
       
        //displayResult, compares playerScore to computerScore, displays game winner. 

        function displayResult(playerScore,computerScore) {
                if(playerScore > computerScore) {
                    alert("You win! " + playerScore + " to " + computerScore)
                }
                else if (playerScore < computerScore) {
                    alert("You lose! " + computerScore + " to " + playerScore)
                }
                else if (playerScore == computerScore) {
                    alert("Its a draw! " + computerScore + " to " + playerScore)
                }
                else {
                    alert("Something went wrong...")
                }
            }
       

        //Determine computerSelection
        function computerPlay() {
            const compChoices = ["rock", "paper", "scissors"];
            let computerSelection = Math.floor(Math.random() * compChoices.length);
            return compChoices[computerSelection];
        }

        //Plays 5 rounds
        function game() {

            //Scores
            let playerScore = 0;
            let computerScore = 0;

            for (var round = 1; round < 6; round ++) {
            
                //Player choice and Computer choice
                const playerSelection = prompt("Rock, Paper, or Scissors").toLowerCase();
                const computerSelection = computerPlay()

                //Displays round number, playerSelection, and computerSelection
                console.log("Round" + " " + round)
                console.log(playerSelection)
                console.log(computerSelection)

                if (playRound(playerSelection, computerSelection) === "tie") {
                    console.log("Its a tie!");
                    round--;
                    console.log(playerScore, computerScore);
                }
                else if (playRound(playerSelection, computerSelection) === "lose") {
                    console.log("You lose!");
                    computerScore++;
                    console.log(playerScore, computerScore);
                }
                else if (playRound(playerSelection, computerSelection) === "win") {
                    console.log("You win!");
                    playerScore++;
                    console.log(playerScore, computerScore);
                }
                else {
                    console.log("Incorrect input")
                    round--;
                }

                //Displays winner when 5 rounds are over
                if(round == 5 && playerScore >= 3) {
                    alert(`You won the game! ${playerScore}` + " to " + `${computerScore}` + " Congrats")
                }
                else if ( round == 5 && playerScore == computerScore) {
                    alert(`Its a draw! ${playerScore}` + " to " + `${computerScore}`)
                } 
                else if (round == 5 && computerScore > 3)
                    alert(`You lost the game ${computerScore}` + " to " + `${playerScore}` + " , get fucked, noob")

            }

        }

    game()
    </script>
</body>
</html>